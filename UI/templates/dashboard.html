<div ng-controller="DashboardController">

    <div class="container-fluid">
        <div class="row">
            <div class="col-md-10">
                <button class="btn btn-default" ng-click=refresh()>Rafraichir</button>
                <h3>Mes voiture</h3>
                <div class="row">
                    <div class="col-md-12">
                        <div class="pretty-table">
                            <table id="dataTable" class="table-fill" cellspacing="0" width="100%">


                                <!-- <div class="content table-responsive table-full-width card">
        
                        <table id="dataTable" class="display table table-striped" cellspacing="0" width="100%"> -->
                                <thead>
                                    <tr>
                                        <th style="font-size:10px;">N° de la voiture</th>
                                        <th>Marque</th>
                                        <th>Modèle</th>
                                        <th ng-show="role=='Buyer'">Action</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr ng-repeat="ele in cars">
                                        <td style="font-size:10px;" ng-click="rowClick(ele)">{{ele.carId}}</td>
                                        <td>{{ele.brand}}</td>
                                        <td>{{ele.model}}</td>
                                        <td ng-show="role=='Buyer' && ele.owner.ownerId != user.ownerId"><button class="btn btn-default" ng-click=buyCar(ele.carId)>Acheter</button></div>
                                        </td>
                                        <td  ng-show="role=='Buyer' && ele.owner.ownerId==user.ownerId">A moi !</td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
                <div class="row">
                    <h3>Mes offres</h3>
                        <div class="col-md-12">
                            <div class="pretty-table">
                                <table id="dataTable" class="table-fill" cellspacing="0" width="100%">
    
    
                                    <!-- <div class="content table-responsive table-full-width card">
            
                            <table id="dataTable" class="display table table-striped" cellspacing="0" width="100%"> -->
                                    <thead>
                                        <tr>
                                            <th style="font-size:10px;">N° de la voiture</th>
                                            <th>Marque</th>
                                            <th>Modèle</th>
                                            <th>Prix</th>
                                            <th ng-show="role=='Seller'">Action</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr ng-repeat="ele in offers">
                                            <td style="font-size:10px;">{{ele.car.carId}}</td>
                                            <td >{{ele.car.brand}}</td>
                                            <td>{{ele.car.model}}</td>
                                            <td>{{ele.price}}</td>
                                            <td ng-show="role == 'Seller'  && ele.status == 'inprogress'"><button class="btn btn-default" ng-click=sellCar(ele.saleId)>Accepter la vente</button></td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                <div class="row">
                    <br/>
                    <div class="col-md-4 text-center">
                        <i ng-show="carLoading" class="fa fa-spinner fa-spin" style="font-size:24px"></i>
                    </div>
                    <div class="col-md-7" ng-show="role=='ADMIN'">
                        <button class="btn btn-default col-md-1 col-md-push-10" ng-click=createParticipants()>Créer participants</button></div>
                        
                    <div class="col-md-0" ng-show="role=='Seller'">
                            <input type="text" placeholder="Marque" ng-model="car.brand">
                            <input type="text" placeholder="Modèle" ng-model="car.model">
                        <button class="btn btn-default col-md-1 col-md-push-4" ng-click=createCar()>Construire voiture</button></div>
                </div>
            </div>
        </div>

    </div>
</div>